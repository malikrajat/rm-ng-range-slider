{"version":3,"file":"rm-ng-range-slider.mjs","sources":["../../projects/rm-ng-range-slider/src/lib/rm-ng-range-slider.component.ts","../../projects/rm-ng-range-slider/src/lib/rm-ng-range-slider.component.html","../../projects/rm-ng-range-slider/src/rm-ng-range-slider.ts"],"sourcesContent":["import {CommonModule} from '@angular/common';\r\n\r\nimport {AfterViewInit, Component, ElementRef, EventEmitter, Input, Output, ViewChild,} from '@angular/core';\r\nimport {debounceTime, Subject} from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'rm-ng-range-slider',\r\n  templateUrl: './rm-ng-range-slider.component.html',\r\n  imports: [],\r\n  standalone: true,\r\n  styleUrls: ['./rm-ng-range-slider.component.scss'],\r\n})\r\nexport class RmNgRangeSliderComponent implements AfterViewInit {\r\n  @Input() min: number = 0;\r\n  @Input() max: number = 100;\r\n  @Input() leftColor: string = '#3498db'; // Default left color\r\n  @Input() rightColor: string = '#e74c3c'; // Default right color\r\n  @Input() leftTooltipColor: string = '#333'; // Default tooltip color for the left\r\n  @Input() rightTooltipColor: string = '#e74c3c'; // Default tooltip color for the right\r\n  @ViewChild('lowSlider') lowSlider!: ElementRef;\r\n  @Output() rangeChanged: EventEmitter<{ low: number, high: number }> = new EventEmitter<{\r\n    low: number;\r\n    high: number\r\n  }>();\r\n  lowValue: number = 25; // Default value for the left thumb\r\n  highValue: number = 75; // Default value for the right thumb\r\n  private rangeChangedSubject: Subject<{ low: number, high: number }> = new Subject<{ low: number, high: number }>();\r\n\r\n  ngAfterViewInit(): void {\r\n    this.updateSliderColors();\r\n    // Subscribe to the debounced range change subject\r\n    this.rangeChangedSubject.pipe(\r\n      debounceTime(300) // Adjust debounce time as needed\r\n    ).subscribe((range: { low: number, high: number }): void => {\r\n      this.rangeChanged.emit(range);\r\n    });\r\n  }\r\n\r\n  onLowThumbChange(event: Event): void {\r\n    let value: number = (event.target as HTMLInputElement).valueAsNumber;\r\n    // Ensure the new low value does not exceed the high value\r\n    if (value > this.highValue) {\r\n      value = this.highValue;\r\n    }\r\n\r\n    this.lowValue = value;\r\n    this.emitRange();\r\n    this.updateSliderColors();\r\n  }\r\n\r\n  onHighThumbChange(event: Event): void {\r\n    let value: number = (event.target as HTMLInputElement).valueAsNumber;\r\n    // Ensure the new high value does not go below the low value\r\n    if (value < this.lowValue) {\r\n      value = this.lowValue;\r\n    }\r\n\r\n    this.highValue = value;\r\n    this.emitRange();\r\n    this.updateSliderColors();\r\n  }\r\n\r\n  emitRange(): void {\r\n    this.rangeChangedSubject.next({low: this.lowValue, high: this.highValue});\r\n  }\r\n\r\n  updateSliderColors(): void {\r\n    const lowSlider = this.lowSlider.nativeElement;\r\n    const percentLow: number =\r\n      ((this.lowValue - this.min) / (this.max - this.min)) * 100;\r\n    const percentHigh: number =\r\n      ((this.highValue - this.min) / (this.max - this.min)) * 100;\r\n    lowSlider.style.background = `linear-gradient(to right, ${this.leftColor} ${percentLow}%, ${this.rightColor} ${percentHigh}%)`;\r\n  }\r\n}\r\n","<div class=\"slider-container\">\r\n  <input\r\n    #lowSlider\r\n    id=\"lowSlider\"\r\n    type=\"range\"\r\n    [min]=\"min\"\r\n    [max]=\"max\"\r\n    [value]=\"lowValue\"\r\n    (input)=\"onLowThumbChange($event)\"\r\n    class=\"thumb low low-thumb\"\r\n  />\r\n  <input\r\n    id=\"highSlider\"\r\n    type=\"range\"\r\n    [min]=\"min\"\r\n    [max]=\"max\"\r\n    [value]=\"highValue\"\r\n    (input)=\"onHighThumbChange($event)\"\r\n    class=\"thumb high high-thumb\"\r\n  />\r\n\r\n  <!-- Tooltip for the left thumb -->\r\n  <div\r\n    class=\"tooltip low-tooltip\"\r\n    [style.left.%]=\"(lowValue - min) / (max - min) * 100\"\r\n    [style.background]=\"leftTooltipColor\">\r\n    {{ lowValue }}\r\n  </div>\r\n\r\n  <!-- Tooltip for the right thumb -->\r\n  <div\r\n    class=\"tooltip high-tooltip\"\r\n    [style.left.%]=\"(highValue - min) / (max - min) * 100\"\r\n    [style.background]=\"rightTooltipColor\">\r\n    {{ highValue }}\r\n  </div>\r\n</div>\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}